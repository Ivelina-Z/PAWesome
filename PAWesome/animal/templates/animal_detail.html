{% extends 'base.html' %}

{% block content %}
    <div class="d-flex justify-content-center">
        <div class="card w-50 mb-5">
            <div class="card-body">
                <h1 class="card-title text-center">{{ object.name }}</h1>
{#                <h2 class="card-subtitle text-center text-muted">{{ tags }}</h2>#}
                <h4 class="card-subtitle text-center text-muted">#tags</h4>
                <p class="card-text">
                    {% include 'icons.html' %}
                </p>
            </div>
        </div>

        {% if request.user.is_authenticated %}
            <div class="card w-50 mb-5">
                <div class="card-body">
                    {% include 'animal_map.html' %}
                </div>
            </div>
        {% endif %}
    </div>

    <div class="mb-5" id="accordion">
        <div class="card">
            <div class="card-header" id="headingOne">
                <h5>
                   <button class="btn btn-link" data-toggle="collapse"
                           data-target="#collapseOne" aria-expanded="false"
                           aria-controls="collapseOne">
                       Описание
                   </button>
                </h5>
            </div>
            <div id="collapseOne" class="collapse"
                 aria-labelledby="headingOne" data-parent="#accordion">
                {% if object.description %}
                    <div class="card-body">{{ object.description }}</div>
                {% else %}
                    <div class="card-body">Не е налична повече информация.</div>
                {% endif %}
            </div>
        </div>
        <div class="card">
            <div class="card-header" id="headingTwo">
                <h5>
                   <button class="btn btn-link" data-toggle="collapse"
                           data-target="#collapseTwo" aria-expanded="false"
                           aria-controls="collapseTwo">
                       Медицински проблеми
                   </button>
                </h5>
            </div>
            <div id="collapseTwo" class="collapse"
                 aria-labelledby="headingTwo" data-parent="#accordion">
                {% if object.medical_issues %}
                    <div class="card-body">{{ object.medical_issues }}</div>
                {% else %}
                    <div class="card-body">Не е налична повече информация.</div>
                {% endif %}
            </div>
        </div>
    </div>

    <div id="animal-photos-carousel" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
          {% for photo in object.animalphotos_set.all %}
              {% if photo.is_main_image %}
                  <div class="carousel-item active">
                     <img class="d-block w-100 img-obj-fit-cover" style="height: 80vh;" src="{{ photo.photo.url }}" alt="animal-main-img">
                  </div>
              {% else %}
                  <div class="carousel-item">
                      <img class="d-block w-100 img-obj-fit-cover" style="height: 80vh;" src="{{ photo.photo.url }}" alt="animal-main-img">
                  </div>
              {% endif %}
          {% endfor %}
      </div>
      <a class="carousel-control-prev" href="#animal-photos-carousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#animal-photos-carousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
{% endblock %}
